{% extends 'main.html' %}
<!-- Extend main.html -->

{% block content %}
<div class="container mx-auto mt-8">
    <h1 class="text-4xl font-bold mb-6">Gudang</h1>
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold">Inventaris</h1>
            <button id="viewToggle"
                class="bg-gray-200 text-gray-700 rounded-md py-2 px-4 text-sm font-semibold transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 flex items-center space-x-2 hover:bg-gray-300 hover:shadow-md hover:scale-105 transform">
                <span id="toggleText" class="hover:text-gray-900">Tampilkan Sepeda</span>
                <svg xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 transition-transform duration-300 ease-in-out hover:rotate-180" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                </svg>
            </button>
        </div>
        <div class="overflow-x-auto shadow-md text-xs mb-5 rounded-lg">
            <table id="partsTable" class="w-full border-collapse">
                <thead>
                    <tr>
                        <th
                            class="py-2 px-4 border-b border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600">
                            Product Name</th>
                        <th
                            class="py-2 px-4 border-b border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600">
                            Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in stock_items %}
                    <tr>
                        <td class="py-2 px-4 border-b border-gray-200">{{ item.product_name }}</td>
                        <td class="py-2 px-4 border-b border-gray-200">{{ item.quantity }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <table id="bikeTable" class="w-full border-collapse hidden">
                <!-- Bike table content will go here -->
            </table>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const viewToggle = document.getElementById('viewToggle');
        const toggleText = document.getElementById('toggleText');
        const partsTable = document.getElementById('partsTable');
        const bikeTable = document.getElementById('bikeTable');
        let showingBikes = false;

        viewToggle.addEventListener('click', function () {
            showingBikes = !showingBikes;
            if (showingBikes) {
                partsTable.classList.add('hidden');
                bikeTable.classList.remove('hidden');
                toggleText.textContent = 'Tampilkan Part';
                calculateBikes();
            } else {
                partsTable.classList.remove('hidden');
                bikeTable.classList.add('hidden');
                toggleText.textContent = 'Tampilkan Sepeda';
            }
        });
    });
</script>

{% endblock %}